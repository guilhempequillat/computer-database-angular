
<mat-card class="container section-interface">
  <mat-card-title>Dashboard</mat-card-title>
  <p *ngIf="count" >{{count}} computers found</p>
  <div class="navigation-dashboard">
    <button mat-button routerLink="/add-computer">Add Computer</button>
    <button mat-button routerLink="/add-company">Add Company</button>
    <button mat-button (click)="changeDeleteMode()">Delete Computer</button>
    <button mat-button routerLink="/delete-company">Delete Company</button>
    <button mat-button (click)="toggleUseFilter()">Filter</button>
  </div>
  <form *ngIf="pagination.userFilter"
        class="form-style">
    <mat-form-field class="full-width">
      <input matInput
             type="text"
             [(ngModel)]="filter.byName"
             placeholder="By Name"
             name="byName"/>
    </mat-form-field>
    <mat-form-field class="full-width">
      <input matInput
             type="date"
             [(ngModel)]="filter.byIntroduced"
             placeholder="By Introduced"
             name="byIntroduced"/>
    </mat-form-field>
    <mat-form-field class="full-width">
      <input matInput
             type="date"
             [(ngModel)]="filter.byDiscontinued"
             placeholder="By Discontinued"
             name="byDiscontinued"/>
    </mat-form-field>
    <mat-form-field class="full-width">
    <input matInput
           type="text"
           [(ngModel)]="filter.byCompany"
           placeholder="By Company"
           name="byCompany"/>
    </mat-form-field>
    <button mat-button type="button" class="btn-filter" (click)="applyFilter()">Apply Filter</button>
  </form>
  <table class="table table-striped" >
    <thead class="">
      <tr class="title-table">
        <td *ngIf="deleteMode">
          <button (click)="confirmDelete()"  class="btn btn-danger delete">Trash</button>
        </td>
        <td (click)="changeOrderType('name')"  matTooltip="Order By Name">Name</td>
        <td (click)="changeOrderType('introduced')"  matTooltip="Order By Introduced">Introduced</td>
        <td (click)="changeOrderType('discontinued')"  matTooltip="Order By Discontinued">Discontinued</td>
        <td (click)="changeOrderType('company')"  matTooltip="Order By Company">Company</td>
      </tr>
    </thead>
    <tr *ngFor="let computer of listComputer; let j = index" class="table-case">
      <td *ngIf="deleteMode" class="delete">
        <input type="checkbox" (click)="getComputerIdToDelete()"
               value="{{computer.id}}"
               name="computerToRemove"/>
      </td>
      <td (click)="updateComputer(computer.id)" class="name-computer-table">
        <span>{{computer.name}}</span>
      </td>
      <td>
        <span *ngIf="computer.introduced != null">
          {{computer?.introduced.dayOfMonth}}-{{computer?.introduced.monthValue}}-{{computer?.introduced.year}}
        </span>
      </td>
      <td>
        <span *ngIf="computer.discontinued != null">
          {{computer?.discontinued.dayOfMonth}}-{{computer?.discontinued.monthValue}}-{{computer?.discontinued.year}}
        </span>
      </td>
      <td>
        <span *ngIf="computer.company != null">
          {{computer.company.name}}
        </span>
      </td>
    </tr>
  </table>
</mat-card>
  <footer>
    <div class="btn-group nav-button-group">
      <button class="nav-button" *ngIf="pagination.beginComputerDisplay != 0" (click)="updateNavBarDecrement()">
        <span class="glyphicon glyphicon-triangle-left"></span>
      </button>
      <button *ngFor="let nav of navArray; let i = index" class="nav-button" (click)="updateNavBar(nav)">
        <span >{{nav+1}}</span>
      </button>
      <button class="nav-button" (click)="updateNavBarIncrement()"
              *ngIf="pagination.beginComputerDisplay + pagination.numberComputerToShow < count">
        <span class="glyphicon glyphicon-triangle-right"></span>
      </button>
    </div>
    <div class="nb-computer-to-show btn-group nav-button-group">
      <button class="nb-computer-to-show-btn" (click)="updateNbComputerToShow(10)">
        <span>10</span>
      </button>
      <button class="nb-computer-to-show-btn" (click)="updateNbComputerToShow(50)">
        <span>50</span>
      </button>
      <button class="nb-computer-to-show-btn" (click)="updateNbComputerToShow(100)">
        <span>100</span>
      </button>
    </div>
  </footer>

